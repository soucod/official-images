# CNB æ‰‹åŠ¨è§¦å‘æŒ‰é’®é…ç½®
# æ–‡æ¡£: https://docs.cnb.cool/zh/build/web-trigger.html

branch:
  # æ‰€æœ‰åˆ†æ”¯å¯ç”¨
  - buttons:
      # æŒ‰é’® 1: åŒæ­¥å•ä¸ªé•œåƒ
      - name: ğŸ”„ åŒæ­¥å•ä¸ªé•œåƒ
        description: åŒæ­¥æŒ‡å®šçš„ Docker é•œåƒåˆ° CNB ä»“åº“
        event: sync_single_image
        inputs:
          IMAGE_NAME:
            name: é•œåƒåç§°
            description: é•œåƒåç§° (ä¸å«å¹³å°å‰ç¼€å’Œæ ‡ç­¾)
            placeholder: nginx æˆ– library/mysql
            required: true
            type: input
          IMAGE_TAG:
            name: é•œåƒæ ‡ç­¾
            description: é•œåƒæ ‡ç­¾
            placeholder: latest
            default: latest
            required: false
            type: input
          IMAGE_ARCH:
            name: é•œåƒæ¶æ„
            description: é•œåƒæ¶æ„
            type: select
            default: amd64
            options:
              - name: x86_64 (amd64)
                value: amd64
              - name: ARM64 (arm64)
                value: arm64
          IMAGE_PLATFORM:
            name: æºé•œåƒå¹³å°
            description: æºé•œåƒå¹³å°
            type: select
            default: docker.io
            options:
              - name: Docker Hub
                value: docker.io
              - name: GitHub Container Registry
                value: ghcr.io
              - name: Quay.io
                value: quay.io

      # æŒ‰é’® 2: åŒæ­¥æ‰€æœ‰é•œåƒ
      - name: ğŸ“¦ åŒæ­¥æ‰€æœ‰é•œåƒ
        description: åŒæ­¥ docker-images.txt ä¸­çš„æ‰€æœ‰é•œåƒ
        event: sync_all_images
        inputs:
          SYNC_ARCH:
            name: é•œåƒæ¶æ„
            type: select
            default: amd64
            options:
              - name: x86_64 (amd64)
                value: amd64
              - name: ARM64 (arm64)
                value: arm64

      # æŒ‰é’® 3: åŒæ­¥æŒ‡å®šæ–‡ä»¶
      - name: ğŸ“„ åŒæ­¥æŒ‡å®šæ–‡ä»¶
        description: åŒæ­¥æŒ‡å®šæ–‡ä»¶ä¸­åˆ—å‡ºçš„é•œåƒ
        event: sync_from_custom_file
        inputs:
          CUSTOM_FILE:
            name: æ–‡ä»¶è·¯å¾„
            description: é•œåƒåˆ—è¡¨æ–‡ä»¶è·¯å¾„
            placeholder: docker-images.txt
            default: docker-images.txt
            required: true
            type: input
          SYNC_ARCH:
            name: é•œåƒæ¶æ„
            type: select
            default: amd64
            options:
              - name: x86_64 (amd64)
                value: amd64
              - name: ARM64 (arm64)
                value: arm64

      # æŒ‰é’® 4: åŒæ­¥ library é•œåƒ
      - name: ğŸ“š åŒæ­¥ library é•œåƒ
        description: åŒæ­¥ library ç›®å½•ä¸­å®šä¹‰çš„é•œåƒ
        event: sync_library_image
        inputs:
          LIB_IMAGE_NAME:
            name: é•œåƒåç§°
            description: library ç›®å½•ä¸­çš„æ–‡ä»¶å
            placeholder: openjdk
            required: true
            type: input
          VERSION_COUNT:
            name: ç‰ˆæœ¬æ•°é‡
            description: åŒæ­¥æœ€è¿‘å‡ ä¸ªä¸»ç‰ˆæœ¬
            type: select
            default: "5"
            options:
              - name: æœ€è¿‘ 3 ä¸ª
                value: "3"
              - name: æœ€è¿‘ 5 ä¸ª
                value: "5"
              - name: æœ€è¿‘ 10 ä¸ª
                value: "10"
          SYNC_ARCH:
            name: é•œåƒæ¶æ„
            type: select
            default: amd64
            options:
              - name: x86_64 (amd64)
                value: amd64
              - name: ARM64 (arm64)
                value: arm64
