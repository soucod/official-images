# CNB æ‰‹åŠ¨è§¦å‘æŒ‰é’®é…ç½®
# è¿™äº›æŒ‰é’®ä¼šæ˜¾ç¤ºåœ¨ CNB ä»“åº“é¡µé¢ï¼Œç‚¹å‡»åè§¦å‘ç›¸åº”çš„æµæ°´çº¿
# æ–‡æ¡£: https://docs.cnb.cool

# æŒ‰é’®åœ¨æ‰€æœ‰åˆ†æ”¯å¯è§
branch:
  reg: .*

buttons:
  # ========================================
  # æŒ‰é’® 1: åŒæ­¥å•ä¸ªé•œåƒ
  # ========================================
  - name: ğŸ”„ åŒæ­¥å•ä¸ªé•œåƒ
    description: åŒæ­¥æŒ‡å®šçš„ Docker é•œåƒåˆ° CNB ä»“åº“
    event: sync_single_image
    inputs:
      - name: IMAGE_NAME
        type: input
        description: é•œåƒåç§° (ä¸å«å¹³å°å‰ç¼€å’Œæ ‡ç­¾)
        placeholder: "nginx æˆ– library/mysql"
        required: true

      - name: IMAGE_TAG
        type: input
        description: é•œåƒæ ‡ç­¾
        placeholder: "latest"
        default: "latest"
        required: false

      - name: IMAGE_ARCH
        type: select
        description: é•œåƒæ¶æ„
        default: "amd64"
        options:
          - label: x86_64 (amd64)
            value: amd64
          - label: ARM64 (arm64)
            value: arm64

      - name: IMAGE_PLATFORM
        type: select
        description: æºé•œåƒå¹³å°
        default: "docker.io"
        options:
          - label: Docker Hub (docker.io)
            value: docker.io
          - label: GitHub Container Registry (ghcr.io)
            value: ghcr.io
          - label: Quay.io
            value: quay.io
          - label: Google Container Registry (gcr.io)
            value: gcr.io

  # ========================================
  # æŒ‰é’® 2: åŒæ­¥æ‰€æœ‰é•œåƒ
  # ========================================
  - name: ğŸ“¦ åŒæ­¥æ‰€æœ‰é•œåƒ
    description: åŒæ­¥ docker-images.txt ä¸­çš„æ‰€æœ‰é•œåƒåˆ° CNB ä»“åº“
    event: sync_all_images
    inputs:
      - name: SYNC_ARCH
        type: select
        description: é•œåƒæ¶æ„
        default: "amd64"
        options:
          - label: x86_64 (amd64)
            value: amd64
          - label: ARM64 (arm64)
            value: arm64

  # ========================================
  # æŒ‰é’® 3: åŒæ­¥æŒ‡å®šæ–‡ä»¶
  # ========================================
  - name: ğŸ“„ åŒæ­¥æŒ‡å®šæ–‡ä»¶
    description: åŒæ­¥æŒ‡å®šæ–‡ä»¶ä¸­åˆ—å‡ºçš„é•œåƒ
    event: sync_from_custom_file
    inputs:
      - name: CUSTOM_FILE
        type: input
        description: é•œåƒåˆ—è¡¨æ–‡ä»¶è·¯å¾„ (ç›¸å¯¹äºä»“åº“æ ¹ç›®å½•)
        placeholder: "docker-images.txt"
        default: "docker-images.txt"
        required: true

      - name: SYNC_ARCH
        type: select
        description: é•œåƒæ¶æ„
        default: "amd64"
        options:
          - label: x86_64 (amd64)
            value: amd64
          - label: ARM64 (arm64)
            value: arm64

  # ========================================
  # æŒ‰é’® 4: åŒæ­¥ library å•ä¸ªé•œåƒ
  # ========================================
  - name: ğŸ“š åŒæ­¥ library é•œåƒ
    description: åŒæ­¥ library ç›®å½•ä¸­å®šä¹‰çš„ Docker Official Image (æœ€æ–°ç‰ˆæœ¬+æœ€è¿‘Nä¸ªç‰ˆæœ¬)
    event: sync_library_image
    inputs:
      - name: LIB_IMAGE_NAME
        type: input
        description: é•œåƒåç§° (library ç›®å½•ä¸­çš„æ–‡ä»¶åï¼Œå¦‚ openjdk, alpine, nginx)
        placeholder: "openjdk"
        required: true

      - name: VERSION_COUNT
        type: select
        description: åŒæ­¥æœ€è¿‘å‡ ä¸ªä¸»ç‰ˆæœ¬
        default: "5"
        options:
          - label: æœ€è¿‘ 3 ä¸ªç‰ˆæœ¬
            value: "3"
          - label: æœ€è¿‘ 5 ä¸ªç‰ˆæœ¬
            value: "5"
          - label: æœ€è¿‘ 10 ä¸ªç‰ˆæœ¬
            value: "10"

      - name: SYNC_ARCH
        type: select
        description: é•œåƒæ¶æ„
        default: "amd64"
        options:
          - label: x86_64 (amd64)
            value: amd64
          - label: ARM64 (arm64)
            value: arm64

  # ========================================
  # æŒ‰é’® 5: åŒæ­¥å…¨éƒ¨ library é•œåƒ
  # ========================================
  - name: ğŸ—‚ï¸ åŒæ­¥å…¨éƒ¨ library
    description: åŒæ­¥ library ç›®å½•ä¸­æ‰€æœ‰ Docker Official Images (141ä¸ªé•œåƒ)
    event: sync_library_all
    inputs:
      - name: VERSION_COUNT
        type: select
        description: æ¯ä¸ªé•œåƒåŒæ­¥æœ€è¿‘å‡ ä¸ªä¸»ç‰ˆæœ¬
        default: "5"
        options:
          - label: æœ€è¿‘ 3 ä¸ªç‰ˆæœ¬
            value: "3"
          - label: æœ€è¿‘ 5 ä¸ªç‰ˆæœ¬
            value: "5"
          - label: æœ€è¿‘ 10 ä¸ªç‰ˆæœ¬
            value: "10"

      - name: SYNC_ARCH
        type: select
        description: é•œåƒæ¶æ„
        default: "amd64"
        options:
          - label: x86_64 (amd64)
            value: amd64
          - label: ARM64 (arm64)
            value: arm64
